<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard - Gourmestre</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/static/htmx.min.js"></script>
</head>
<body class="bg-gray-50 min-h-screen flex">

  <!-- Sidebar -->
  <aside class="w-64 min-h-screen bg-white border-r-4 border-rose-600 flex flex-col justify-between p-6 shadow-lg rounded-r-3xl
                fixed md:static left-0 top-0 z-30">

    <div>
      <h1 class="text-3xl font-extrabold text-rose-600 mb-10 tracking-tight">Gourmestre</h1>
      <nav aria-label="Menu principal">
        <ul class="space-y-2">
          <li>
            <a href="#" class="block px-4 py-2 rounded-xl font-medium text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition">
              Mes restaurants
            </a>
          </li>
          <li>
            <a href="#" class="block px-4 py-2 rounded-xl font-medium text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition">
              Favoris
            </a>
          </li>
          <li>
            <a href="#" class="block px-4 py-2 rounded-xl font-medium text-gray-700 hover:bg-rose-50 hover:text-rose-600 transition">
              Profil
            </a>
          </li>
        </ul>
      </nav>
    </div>

    <form action="/api/logout" method="post" class="pt-8">
      <button type="submit"
        class="w-full px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 hover:text-rose-600 rounded-xl font-medium transition shadow">
        Se déconnecter
      </button>
    </form>
  </aside>

  <main class="flex-1 md:ml-64 p-6 md:p-12 space-y-10 transition-all">
    
    <section id="user-greeting">
      <div id="welcome"
           hx-get="/api/userinfo"
           hx-trigger="load"
           hx-swap="innerHTML"
           class="text-3xl md:text-4xl font-semibold text-gray-800 animate-fade-in">
        Chargement du profil...
      </div>
    </section>

    <section class="bg-white rounded-2xl shadow-lg p-8 md:max-w-3xl mx-auto border border-gray-100">
      <h2 class="text-2xl font-bold text-gray-800 mb-4 tracking-tight">Tableau de bord</h2>
      <p class="text-base text-gray-500 mb-6">Bienvenue dans votre espace personnel</p>

      <form hx-post="/api/restaurants" hx-target="#resto-msg" hx-swap="innerHTML" class="space-y-4 p-4 bg-gray-100 rounded-lg">
        <input name="name" type="text" placeholder="Nom du restaurant" required />
        <input name="city" type="text" placeholder="Ville" required />
        <textarea name="description" placeholder="Avis (optionnel)"></textarea>
        <label>
          <input name="rating" type="number" min="1" max="5" /> Note (1–5)
        </label>
        <label>
          <input name="is_favorite" type="checkbox" /> Favoris
        </label>
        <button type="submit">Ajouter</button>
      </form>
      <div id="resto-msg"></div>

      <ul class="list-disc pl-5 text-gray-700 space-y-2 text-base">
        <li>Ajouter vos restaurants préférés</li>
        <li>Gérer votre profil et vos avis</li>
        <li>Suivre vos réservations</li>
      </ul>
    </section>
  </main>

  <style>
    .animate-fade-in {
      animation: fadeIn 1.0s cubic-bezier(.4,0,.2,1);
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(16px);}
      to { opacity: 1; transform: none;}
    }
  </style>
</body>
</html>
